easyblock = 'PythonBundle'

name = 'WeasyPrint'
version = '52.5'

homepage = 'https://github.com/Kozea/WeasyPrint'
description = """WeasyPrint is a smart solution helping web developers to create
PDF documents. It turns simple HTML pages into gorgeous statistical reports,
invoices, tickets."""

toolchain = {'name': 'foss', 'version': '2021b'}

dependencies = [
    ('cairo', '1.16.0'),
    ('setuptools', '54.2.0'),
    ('cffi', '1.14.5'),
    ('Gdk-Pixbuf', '2.42.6'),
    ('Pango', '1.48.8'),
    ('Python', '3.9.6'),
    ('Pillow', '8.3.2'),
]

use_pip = True

exts_list = [
    ('cssselect2', '0.4.1', {
        'checksums': ['93fbb9af860e95dd40bf18c3b2b6ed99189a07c0f29ba76f9c5be71344664ec8'],
    }),
    ('cairocffi', '1.2.0', {
        'modulename': 'cairocffi',
        'source_tmpl': 'cairocffi-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/c/cairocffi'],
        'checksums': ['9a979b500c64c8179fec286f337e8fe644eca2f2cd05860ce0b62d25f22ea140'],
    }),
    ('CairoSVG', '2.5.1', {
        'checksums': ['bfa0deea7fa0b9b2f29e41b747a915c249dbca731a4667c2917e47ff96e773e0'],
    }),
    ('html5lib', '1.1', {
        'checksums': ['b2e5b40261e20f354d198eae92afc10d750afb487ed5e50f9c4eaf07c184146f'],
    }),
    ('tinycss2', '1.1.0', {
        'checksums': ['fbdcac3044d60eb85fdb2aa840ece43cf7dbe798e373e6ee0be545d4d134e18a'],
    }),
    ('pydyf', '0.0.2', {
        'checksums': ['7c7f417413877edfc882f200834ee2415aa21c8cbfbc87802d78e12334a16581'],
    }),
    ('pyphen', '0.10.0', {
        'modulename': 'pyphen',
        'source_tmpl': 'Pyphen-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/P/Pyphen'],
        'checksums': ['719b21dfb4b04fbc11cc0f6112418535fe35474021120cccfffc43a25fe63128'],
    }),
    ('fonttools', '4.34.0', {
        'modulename': 'fontTools',
        'source_tmpl': '%(name)s-%(version)s.zip',
        'checksums': ['73d3fab85790f076d56db431bfdf9ce51b566816ff74d51e050e11ab1ffa8f8b'],
    }),
    (name, version, {
        'modulename': 'weasyprint',
        'checksums': ['b37ea02d75ca04babd7becad7341426be332ae560d8f02d664bfa1e9afb18481'],
    }),
]

sanity_check_paths = {
    'files': ['bin/weasyprint'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ["weasyprint --help"]

sanity_pip_check = True

moduleclass = 'lib'
